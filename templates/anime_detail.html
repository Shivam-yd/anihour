{% extends "base.html" %}

{% block title %}Anime Details - Anime Tracker{% endblock %}

{% block content %}
<div class="container mt-5 pt-5">
    <div id="animeDetailsContent">
        <div class="loading">
            <div class="loading-spinner"></div>
            <p>Loading anime details...</p>
        </div>
    </div>
    
    <!-- Back Button -->
    <div class="mt-4">
        <button onclick="history.back()" class="btn btn-outline-light">
            <i class="fas fa-arrow-left me-2"></i>Back
        </button>
    </div>
</div>

<!-- Background Overlay -->
<div class="position-fixed w-100 h-100" style="top: 0; left: 0; z-index: -2; opacity: 0.03;">
    <img src="https://pixabay.com/get/gfb8207c3edfa0e93f21c043bb97dc769821ad40014f10082db983bb5d76ee2b29269f0c62083d0b1086ada07ce08a1b565f70f019450985816abb424be378500_1280.jpg" 
         alt="" class="w-100 h-100" style="object-fit: cover;">
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Get anime ID from URL
    const pathParts = window.location.pathname.split('/');
    const animeId = pathParts[pathParts.length - 1];
    
    if (animeId && !isNaN(animeId)) {
        // The main.js will handle loading the details
        console.log('Loading details for anime ID:', animeId);
    } else {
        document.getElementById('animeDetailsContent').innerHTML = `
            <div class="error-message">
                <div class="error-title">Invalid Anime ID</div>
                <p>The anime ID in the URL is not valid.</p>
                <a href="/" class="btn btn-primary">Go Home</a>
            </div>
        `;
    }
});
</script>
{% endblock %}
